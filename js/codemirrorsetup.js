var code = document.getElementById("editor").innerHTML
var codemirror = CodeMirror.fromTextArea(document.getElementById("editor"), {
  theme: "solarized dark",
  mode:  "php",
  value: code,
  readOnly: readonly,
  lineNumbers: true,
  lineWrapping: true,
  scrollbarStyle: null,
});
//percentage of the screen should be filled with editor
codemirror.setSize("100%,", "100%");

function jumpToLine(i) {
    var t = codemirror.charCoords({line: i, ch: 0}, "local").top;
    codemirror.scrollTo(null, t - 45);
}

var linenumbers = document.getElementsByClassName('linenumber');
if (linenumbers.length > 0){
  for (var i = 0; i < linenumbers.length; ++i) {
    codemirror.doc.addLineClass(Number(linenumbers[i].innerHTML) - 2,"background","redLine");
    codemirror.doc.addLineClass(Number(linenumbers[i].innerHTML) - 2,"text","whiteLine");
    codemirror.doc.addLineClass(Number(linenumbers[i].innerHTML) - 1,"background","redLine");
    codemirror.doc.addLineClass(Number(linenumbers[i].innerHTML) - 1,"text","whiteLine");
  }
}
